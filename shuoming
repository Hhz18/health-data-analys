# 技术栈文档

## 核心框架

### Spring Boot 3.4.4
**作用**：项目的基础框架，提供快速开发能力
- 简化 Spring 应用配置，实现零 XML 配置
- 自动装配常用组件（数据源、MVC、安全等）
- 内置 Tomcat 服务器，支持快速启动和部署
- 提供生产级监控和管理功能
- 统一依赖版本管理，避免版本冲突

### Java 21
**作用**：提供现代化的编程语言特性和性能优化
- LTS 长期支持版本，保证稳定性
- 虚拟线程支持，提升并发性能
- 增强的模式匹配和 Record 类型
- 改进的垃圾回收器（ZGC、G1）
- 更好的安全性和性能表现

## 数据持久化

### MyBatis-Plus 3.5.6
**作用**：简化数据库操作，提高开发效率
- 无需编写基础 CRUD 的 SQL 语句
- 强大的条件构造器，动态拼接复杂查询
- 自动分页，无需手动编写分页逻辑
- 乐观锁、逻辑删除等企业级功能
- 代码生成器快速生成 Mapper、Entity
- 性能分析插件，SQL 执行时间监控

### MySQL 8.0+
**作用**：存储和管理项目核心业务数据
- 存储用户、权限、医疗统计等结构化数据
- 支持复杂的关联查询和事务处理
- 索引优化查询性能（联合索引、唯一索引）
- 外键约束保证数据一致性
- 存储过程和视图支持复杂业务逻辑

### Redis
**作用**：高性能缓存和会话管理
- 缓存热点数据，减少数据库压力
- 存储验证码（设置过期时间）
- 爬虫数据临时缓存，避免重复抓取
- 分布式会话存储，支持横向扩展
- Key-Value 结构，读写速度极快

## 安全认证

### Spring Security 6.x
**作用**：构建企业级安全防护体系
- 统一的身份认证入口，拦截非法请求
- 基于角色的访问控制（RBAC）
- CSRF 攻击防护
- 密码加密存储，防止明文泄露
- 会话管理和并发登录控制
- 与 JWT 集成实现无状态认证

### JWT (JJWT 0.11.5)
**作用**：实现分布式系统的无状态认证
- 生成加密令牌，包含用户信息和角色
- 无需服务端存储会话，支持横向扩展
- 令牌自包含，减少数据库查询
- 设置过期时间（2小时），自动失效
- 支持令牌刷新机制
- 防篡改签名验证

### BCrypt
**作用**：密码安全加密
- 单向加密算法，无法逆向破解
- 自动加盐，防止彩虹表攻击
- 可配置加密强度（工作因子）
- 同一密码多次加密结果不同
- 行业标准的密码存储方案

## Web 开发

### Spring Web MVC
- RESTful API 开发
- 请求处理和响应

### Jakarta Validation 3.0.2
- 数据校验
- 参数验证

## 数据采集

### Jsoup 1.17.2
**作用**：静态网页数据采集的核心工具
- 解析 HTML 文档，提取结构化数据
- CSS 选择器定位元素（类似 jQuery）
- 支持 20+ 省份卫健委官网新闻抓取
- 清洗和规范化 HTML 数据
- 处理不规范的 HTML 代码
- 轻量级，无需浏览器环境

### Selenium 4.21.0
**作用**：动态网页和 JavaScript 渲染页面的抓取
- 模拟真实浏览器行为，绕过反爬机制
- 执行 JavaScript，获取动态加载内容
- 处理 AJAX 异步请求数据
- 模拟用户操作（点击、滚动、输入）
- 截图和页面快照功能

### Apache HttpClient 4.5.14
**作用**：底层 HTTP 请求封装
- 发送 GET/POST 等 HTTP 请求
- 连接池管理，提高请求效率
- 超时控制，防止请求阻塞
- Cookie 管理和重定向处理
- 支持 HTTPS 和证书验证

### OkHttp 4.12.0
**作用**：现代化的 HTTP 客户端
- 调用百度 OCR API 进行表格识别
- 调用 DeepSeek AI 接口
- 支持 HTTP/2 协议，性能更优
- 自动重试和重定向
- 连接池和缓存机制
- 支持流式响应（SSE）

## OCR 识别

### 百度智能云 OCR
**作用**：将图片中的表格和文字转换为结构化数据
- 识别医疗统计报表图片中的数据
- 支持复杂表格结构识别
- 支持多种图片格式（JPG、PNG、BMP 等）
- 返回 JSON 格式的结构化数据
- 自动识别表头和数据行
- 准确率高，支持中文识别

### 腾讯云 OCR SDK 3.1.1297
**作用**：备用 OCR 服务，提供容灾能力
- 当百度 OCR 不可用时的备选方案
- 多云服务避免单点故障
- 不同场景选择最优服务

### 华为云 OCR SDK 3.1.154
**作用**：第二备用 OCR 服务
- 进一步提高服务可用性
- 支持特定格式的表格识别
- 多厂商服务对比和选择

## 大数据组件

### Hadoop HDFS 3.3.6
**作用**：分布式存储大文件和医疗数据
- 存储上传的图片、文档等大文件
- 分布式存储，支持 PB 级数据
- 数据冗余备份，防止数据丢失
- 高吞吐量，适合大文件读写
- 按分类（category）自动组织文件
- 与 Hive 集成，支持大数据分析

### Apache Hive 1.2.1
**作用**：海量数据的 SQL 查询和分析
- 将 OCR 识别结果导入数据仓库
- 使用 SQL 查询大规模医疗数据
- 按分类（category）动态建表
- 支持复杂的聚合和统计分析
- MapReduce 执行引擎处理大数据
- 与 HDFS 无缝集成

## AI 服务

### DeepSeek API
**作用**：提供智能对话和医疗健康知识问答
- 基于大语言模型的智能问答
- 医疗健康领域知识咨询
- 流式响应（SSE），实时返回结果
- 上下文理解，多轮对话支持
- 数据分析建议和报告解读
- 提升用户体验，降低使用门槛

## AOP 编程

### AspectJ 1.9.24
**作用**：实现横切关注点的统一管理
- 自动记录所有 Controller 方法的操作日志
- 权限校验切面，拦截未授权访问
- 统一异常处理和响应封装
- 性能监控和方法执行时间统计
- 事务管理
- 解耦业务逻辑和系统功能

## 工具库

### Lombok 1.18.32
- 代码简化
- 自动生成样板代码

### Jackson
- JSON 序列化
- 数据转换

### JSON 20240303
- JSON 数据处理

## 构建工具

### Maven
- 依赖管理
- 项目构建
- 插件管理

## 其他组件

### SLF4J + Logback
- 日志框架
- 日志管理

### CompletableFuture
- 异步编程
- 并发处理

### Reactor
- 响应式编程
- 流式数据处理
